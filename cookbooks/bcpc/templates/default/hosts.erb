################################################
#
#              Generated by Chef
#
################################################

127.0.0.1	localhost

# The following lines are desirable for IPv6 capable hosts
::1     ip6-localhost ip6-loopback
fe00::0 ip6-localnet
ff00::0 ip6-mcastprefix
ff02::1 ip6-allnodes
ff02::2 ip6-allrouters

# this is used by openstack services to reach API endpoints
<%= "#{node['bcpc']['management']['vip']}\topenstack.#{node['bcpc']['cluster_domain']}" %>
# floating VIP serves RADOSgw to users
<%= "#{node['bcpc']['floating']['vip']}\ts3.#{node['bcpc']['cluster_domain']}" %>

<% @servers.each do |server| -%>
<%= "#{server['bcpc']['management']['ip']}\t#{server['hostname']}.#{node['bcpc']['hypervisor_domain']} #{server['fqdn']} #{server['hostname']}" %>
<% end -%>
<%=
    if @bootstrap_node
      bs_node_ip = ( @bootstrap_node['bcpc']['bootstrap'] && @bootstrap_node['bcpc']['bootstrap']['server'] )
      str = <<-EoF
#{bs_node_ip}\t#{@bootstrap_node['fqdn']}
      EoF
    end
%>
